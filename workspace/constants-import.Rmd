---
jupyter:
  jupytext:
    formats: ipynb,Rmd
    text_representation:
      extension: .Rmd
      format_name: rmarkdown
      format_version: '1.2'
      jupytext_version: 1.11.1
  kernelspec:
    display_name: Python 3
    language: python
    name: python3
---

### Defining and importing constants

Inpired by rubys/feedvalidator at [line 55](https://lgtm.com/projects/g/rubys/feedvalidator/snapshot/eb77aa864016e1071f37357746a3ad77de94432a/files/src/rdflib/syntax/parsers/RDFXMLHandler.py?sort=name&dir=ASC&mode=heatmap#L55)

You can import another file as a module and use the variables within as constants.

```{python}
from src.constants import C, PI, K, G
```

```{python}
G, C # Gravitational constant, Speed of Light
```

But is it _really_ a constant?

```{python}
G = 0
```

```{python}
G
```

In spite of being from another module, you can't make it immutable.


`[?]` How do you make an imported variable immutable?  
`[ ]` Maybe create a constants class?


Interestingly when importing a variable name that is already occupied in symbol table throws an error. Lets define Rydberg constant as `RINF`:

```{python}
RINF = 10e6 # painfully rough
```

Lets import the constant which holds a more accurate number.

```{python}
from src.constants import RINF
```

Import Error occurs because RINF already exists. It doesn't seem to happen all the time but its worth remembering the potential clash.

```{python}
RINF
```

However if you import the constant but then overwrite it and then import the constant again, the error is not thrown. Generally, you don't want to use `import`, especially `import *` as you are flooding your namespace with the `module`'s namespace. Thereby inadvertently overwriting and clashing stuff. So you want to do this:

```{python}
import src.constants as constants
constants.RINF
```

Another subtlety is that if you change `RINF` you don't change `constants.RINF`. So you can reimport the `constants` module and recover the number (without restarting the nb kernel). However if you change `constants.RINF` you change the module's variable value instead, no importing will work [[so-import-variables](https://stackoverflow.com/questions/17255737/importing-variables-from-another-file)].

```{python}
constants.RINF = 0
constants.RINF
```

```{python}
RINF
```

```{python}
from src.constants import RINF
RINF
```

`[?]` Is there a way to force the rereading of the file?
